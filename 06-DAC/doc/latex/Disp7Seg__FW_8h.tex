\hypertarget{Disp7Seg__FW_8h}{}\doxysection{inc/\+Disp7\+Seg\+\_\+\+FW.h File Reference}
\label{Disp7Seg__FW_8h}\index{inc/Disp7Seg\_FW.h@{inc/Disp7Seg\_FW.h}}


\+: Firmware functions for DISP7\+SEG  


\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}\label{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}{SEG\+\_\+A}}~PORT0,21
\begin{DoxyCompactList}\small\item\em Pin to connect segA. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}\label{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}{SEG\+\_\+B}}~PORT0,22
\begin{DoxyCompactList}\small\item\em Pin to connect segB. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}\label{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}{SEG\+\_\+C}}~PORT0,16
\begin{DoxyCompactList}\small\item\em Pin to connect segC. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}\label{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}{SEG\+\_\+D}}~PORT0,17
\begin{DoxyCompactList}\small\item\em Pin to connect segD. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}\label{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}{SEG\+\_\+E}}~PORT0,18
\begin{DoxyCompactList}\small\item\em Pin to connect segE. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}\label{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}{SEG\+\_\+F}}~PORT0,20
\begin{DoxyCompactList}\small\item\em Pin to connect segF. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}\label{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}{SEG\+\_\+G}}~PORT0,19
\begin{DoxyCompactList}\small\item\em Pin to connect segG. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a80f249e64a89b4c00155e9bf66484740}\label{Disp7Seg__FW_8h_a80f249e64a89b4c00155e9bf66484740}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a80f249e64a89b4c00155e9bf66484740}{SEG\+\_\+\+DP}}~PORT0,23
\begin{DoxyCompactList}\small\item\em Pin to connect seg\+DP. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}\label{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}{TR\+\_\+\+D1}}~PORT0,0
\begin{DoxyCompactList}\small\item\em Pin to connect transistor DISP1. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}\label{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\+\_\+\+D0}}~PORT0,1
\begin{DoxyCompactList}\small\item\em Pin to connect transistor DISP0. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a28c8bd90ea71ec24e5f43f413a9ee8b4}\label{Disp7Seg__FW_8h_a28c8bd90ea71ec24e5f43f413a9ee8b4}} 
\#define \mbox{\hyperlink{Disp7Seg__FW_8h_a28c8bd90ea71ec24e5f43f413a9ee8b4}{DIGITS}}~2
\begin{DoxyCompactList}\small\item\em Number of displays. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a8a7f6d0d4826dc3ab4a206f4a3c8270d}\label{Disp7Seg__FW_8h_a8a7f6d0d4826dc3ab4a206f4a3c8270d}} 
\#define {\bfseries DIGIT\+\_\+0}~0
\item 
\mbox{\Hypertarget{Disp7Seg__FW_8h_a92a10682cd668a783bb7d2d3638e8625}\label{Disp7Seg__FW_8h_a92a10682cd668a783bb7d2d3638e8625}} 
\#define {\bfseries DIGIT\+\_\+1}~1
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{Disp7Seg__FW_8h_a2267fa3933e484504bc68d507e299006}{DISP7\+SEG\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em \+: Set pins for display as out \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Disp7Seg__FW_8h_aeabd3a9bfc786e5cef0157a1f105a66b}{DISP\+\_\+\+Sweep}} (void)
\begin{DoxyCompactList}\small\item\em \+: Refresh the display 7Seg (2 Disp) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\+: Firmware functions for DISP7\+SEG 

\+: \begin{DoxyAuthor}{Author}
\+: Tobias Bavasso Piizzi 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
\+: 07/01/2021 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{Disp7Seg__FW_8h_a2267fa3933e484504bc68d507e299006}\label{Disp7Seg__FW_8h_a2267fa3933e484504bc68d507e299006}} 
\index{Disp7Seg\_FW.h@{Disp7Seg\_FW.h}!DISP7SEG\_Init@{DISP7SEG\_Init}}
\index{DISP7SEG\_Init@{DISP7SEG\_Init}!Disp7Seg\_FW.h@{Disp7Seg\_FW.h}}
\doxysubsubsection{\texorpdfstring{DISP7SEG\_Init()}{DISP7SEG\_Init()}}
{\footnotesize\ttfamily void DISP7\+SEG\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\+: Set pins for display as out 

\+: \begin{DoxyAuthor}{Author}
\+: Tobias Bavasso Piizzi 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
\+: 07/01/2021 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em } & \mbox{[}in\mbox{]} void \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: void 
\end{DoxyReturn}


Definition at line 19 of file Disp7\+Seg\+\_\+\+FW.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{19                          \{}
\DoxyCodeLine{20     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}{SEG\_A}}, OUTPUT);}
\DoxyCodeLine{21     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}{SEG\_B}}, OUTPUT);}
\DoxyCodeLine{22     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}{SEG\_C}}, OUTPUT);}
\DoxyCodeLine{23     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}{SEG\_D}}, OUTPUT);}
\DoxyCodeLine{24     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}{SEG\_E}}, OUTPUT);}
\DoxyCodeLine{25     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}{SEG\_F}}, OUTPUT);}
\DoxyCodeLine{26     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}{SEG\_G}}, OUTPUT);}
\DoxyCodeLine{27     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\_D0}}, OUTPUT);}
\DoxyCodeLine{28     \mbox{\hyperlink{GPIO__FW_8c_acef374b86db0620b9489425f7d8e510b}{GPIO\_SetDIR}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}{TR\_D1}}, OUTPUT);}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}{SEG\_A}});}
\DoxyCodeLine{31     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}{SEG\_B}});}
\DoxyCodeLine{32     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}{SEG\_C}});}
\DoxyCodeLine{33     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}{SEG\_D}});}
\DoxyCodeLine{34     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}{SEG\_E}});}
\DoxyCodeLine{35     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}{SEG\_F}});}
\DoxyCodeLine{36     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}{SEG\_G}});}
\DoxyCodeLine{37     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\_D0}});}
\DoxyCodeLine{38     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}{TR\_D1}});}
\DoxyCodeLine{39 \}}

\end{DoxyCode}
\mbox{\Hypertarget{Disp7Seg__FW_8h_aeabd3a9bfc786e5cef0157a1f105a66b}\label{Disp7Seg__FW_8h_aeabd3a9bfc786e5cef0157a1f105a66b}} 
\index{Disp7Seg\_FW.h@{Disp7Seg\_FW.h}!DISP\_Sweep@{DISP\_Sweep}}
\index{DISP\_Sweep@{DISP\_Sweep}!Disp7Seg\_FW.h@{Disp7Seg\_FW.h}}
\doxysubsubsection{\texorpdfstring{DISP\_Sweep()}{DISP\_Sweep()}}
{\footnotesize\ttfamily void DISP\+\_\+\+Sweep (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\+: Refresh the display 7Seg (2 Disp) 

\+: Is necessary to be used in Sys\+Tick\+\_\+\+Handler \begin{DoxyAuthor}{Author}
\+: Tobias Bavasso Piizzi 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
\+: 07/01/2021 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em } & \mbox{[}in\mbox{]} void \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: void 
\end{DoxyReturn}
$<$ Number of disp

$<$ Turn off transistor

$<$ Turn off transistor

$<$ Next time sweep other disp

$<$ Reset the digits

Definition at line 51 of file Disp7\+Seg\+\_\+\+FW.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{51                       \{}
\DoxyCodeLine{52     uint8\_t aux;}
\DoxyCodeLine{53     \textcolor{keyword}{static} uint8\_t digit = 0;       }
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\_D0}});         }
\DoxyCodeLine{56     \mbox{\hyperlink{GPIO__FW_8c_acff746b22055ac81e51bcc25af8a6deb}{GPIO\_ClearOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}{TR\_D1}});         }
\DoxyCodeLine{57 }
\DoxyCodeLine{58     aux = \mbox{\hyperlink{Disp7Seg__FW_8c_ae960ee71923958072c136021f1cb9069}{buff\_Disp7}}[digit];}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_a75cb54bcebb299263826f33304ad9265}{SEG\_A}}, ((aux >> 0) \& (uint8\_t) 0x01));}
\DoxyCodeLine{61     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_a62bb65e0fd3cae8fe6bb8ca3f45b8d42}{SEG\_B}}, ((aux >> 1) \& (uint8\_t) 0x01));}
\DoxyCodeLine{62     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_a41810fa14a326fc41468571948dc09c4}{SEG\_C}}, ((aux >> 2) \& (uint8\_t) 0x01));}
\DoxyCodeLine{63     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_ab408360fd13aeefc34520d9464407419}{SEG\_D}}, ((aux >> 3) \& (uint8\_t) 0x01));}
\DoxyCodeLine{64     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_af88257e7e5371478adfbb6d72366d7a1}{SEG\_E}}, ((aux >> 4) \& (uint8\_t) 0x01));}
\DoxyCodeLine{65     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_a2a3e102716f360738446e1e3e5edd762}{SEG\_F}}, ((aux >> 5) \& (uint8\_t) 0x01));}
\DoxyCodeLine{66     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_abf85b76890259838df0ca7462c415848}{SEG\_G}}, ((aux >> 6) \& (uint8\_t) 0x01));}
\DoxyCodeLine{67     \mbox{\hyperlink{GPIO__FW_8c_abbf05c229aeebf59f741253d2008df51}{GPIO\_SetPIN}}( \mbox{\hyperlink{Disp7Seg__FW_8h_a80f249e64a89b4c00155e9bf66484740}{SEG\_DP}}, ((aux >> 7) \& (uint8\_t) 0x01));}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keywordflow}{switch} (digit) \{}
\DoxyCodeLine{70     \textcolor{keywordflow}{case} DIGIT\_0:}
\DoxyCodeLine{71         \mbox{\hyperlink{GPIO__FW_8c_ad4d61667327a53518d8ef6188412399a}{GPIO\_SetOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\_D0}});}
\DoxyCodeLine{72         \textcolor{keywordflow}{break};}
\DoxyCodeLine{73     \textcolor{keywordflow}{case} DIGIT\_1:}
\DoxyCodeLine{74         \mbox{\hyperlink{GPIO__FW_8c_ad4d61667327a53518d8ef6188412399a}{GPIO\_SetOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_ac55f95d80b8bbd7775c43a7ac5587a23}{TR\_D1}});}
\DoxyCodeLine{75         \textcolor{keywordflow}{break};}
\DoxyCodeLine{76     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{77         digit = 0;}
\DoxyCodeLine{78         \mbox{\hyperlink{GPIO__FW_8c_ad4d61667327a53518d8ef6188412399a}{GPIO\_SetOUT}}(\mbox{\hyperlink{Disp7Seg__FW_8h_a76c8986eec0a14d13032ced9a9720f31}{TR\_D0}});}
\DoxyCodeLine{79         \textcolor{keywordflow}{break};}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     digit++;            }
\DoxyCodeLine{83     digit \%= \mbox{\hyperlink{Disp7Seg__FW_8h_a28c8bd90ea71ec24e5f43f413a9ee8b4}{DIGITS}};  }
\DoxyCodeLine{84 }
\DoxyCodeLine{85 \}}

\end{DoxyCode}
